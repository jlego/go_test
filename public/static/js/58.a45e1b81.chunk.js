(this["webpackJsonpjlw-mes-admin"]=this["webpackJsonpjlw-mes-admin"]||[]).push([[58],{664:function(e,t,a){"use strict";a.r(t);var n=a(66),r=a(11),i=a(17),o=a(31),s=a(44),u=a(99),p=a(100),c=a(0),l=a.n(c),h=a(678),v=a(33),f=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({value:e});var t=n.props.onChange;t&&t(e)},n.state={treeData:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props;v.a[this.props.api]&&v.a[this.props.api](Object(i.a)(Object(i.a)({},this.props.params||{}),t)).then((function(t){if(Array.isArray(t)){e.setState({treeData:function e(n){var r=t.filter((function(e){return e.pId===n}))||[];return r.forEach((function(t){var n=a.valuepropname?t[a.valuepropname]:t.title||t.name,r=a.valuepropname?t[a.valuepropname]:t._id;t.id=r,t.key=r,t.label=n,t.title=n,t.value=r;var i=e(t._id);i.length&&(t.children=i)})),r.sort((function(e,t){return e.sortIndex-t.sortIndex})),r}("")})}else e.setState({treeData:[]})}))}},{key:"render",value:function(){var e=this.props,t=e.value,a=(e.onChange,Object(r.a)(e,["value","onChange"])),i=this.state.treeData;return l.a.createElement(h.a,Object(n.a)({options:i,value:t,style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",onChange:this.onChange},a))}}]),a}(c.Component);t.default=f}}]);
//# sourceMappingURL=58.a45e1b81.chunk.js.map