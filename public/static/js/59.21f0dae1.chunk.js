(this["webpackJsonpjlw-mes-admin"]=this["webpackJsonpjlw-mes-admin"]||[]).push([[59],{650:function(e,t,a){"use strict";a.r(t);var n,r=a(66),i=a(31),l=a(44),c=a(99),s=a(100),o=a(17),u=a(0),m=a.n(u),p=a(105),d=a(675),b=a(640),h=a(284),f=a(674),v=a(679),g=a(246),j=a(637),O=a(357),E=a(235),y=a(87),w=a(33),k=d.a.Text,S=d.a.Paragraph,D=b.a.Content,N=["EditTable"],T=Object(p.b)((function(e){var t=e.globalStore,a=e.appStore,n=e.authStore;return Object(o.a)(Object(o.a)(Object(o.a)({},t),a),n)}))(n=Object(p.c)(n=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).formRef=m.a.createRef(),e.id="",e.state={loading:!0,detailData:{},showResult:!1,resultStatus:!0,resultMsg:"",resultTitle:""},e.renderValue=function(t){return function e(t,a){if(!(t.length>1))return a[t[0]];var n=t.shift();return a[n]?e(t,a[n]):void 0}(t.split("."),e.state.detailData)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.id=this.props.id,this.initData()}},{key:"initData",value:function(){var e=this,t=this.props,a=t.tbName,n=t.urlQuery;this.id?w.a.appDetail(Object(o.a)({_id:this.id},Object(y.queryToObj)(n)),Object(y.tableName)(a)).then((function(t){t&&e.setState({detailData:t,loading:!1})})):this.setState({loading:!1})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.id&&(this.id=t,this.initData())}},{key:"getComponent",value:function(e){var t=e.component,a=e.name,n=e.comProps,i=void 0===n?{}:n,l=E[t],c=this.renderValue(a)||"";if(!t)return c;switch(t){case"Tag":return m.a.createElement(h.a,i,c);case"Text":return m.a.createElement(k,i,c);case"Image":return m.a.createElement(f.a,Object(r.a)({},i,{src:c}));case"Rate":return m.a.createElement(v.a,Object(r.a)({},i,{value:c}));case"Paragraph":return m.a.createElement(S,i,c);default:return m.a.createElement(l,Object(r.a)({readOnly:!0},i,{value:c}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.tbName,n=t.title,i=t.items,l=void 0===i?[]:i,c=l.filter((function(e){return N.includes(e.component)}));return a?m.a.createElement(D,null,Object(y.permissions)(a,"findOne")?m.a.createElement("div",{className:"app-content-div"},m.a.createElement(g.a,{tip:"\u52a0\u8f7d\u4e2d...",spinning:this.state.loading},m.a.createElement(j.b,{title:n,size:"small",labelStyle:{width:"13%",textAlign:"right"},contentStyle:{width:"20%"},bordered:!0},l.filter((function(e){return!N.includes(e.component)})).map((function(t,a){return m.a.createElement(j.b.Item,Object(r.a)({label:t.label,key:"0_".concat(a),span:Number(t.span)},t.comProps||{}),e.getComponent(t))}))),c.length?c.map((function(t,a){return m.a.createElement("div",{key:"1_".concat(a)},m.a.createElement(j.b,{title:t.label,style:{marginTop:20}}),e.getComponent(t)||"")})):null)):m.a.createElement(O.a,{message:"\u4fe1\u606f\u63d0\u793a",description:"\u6ca1\u6709\u6743\u9650\u67e5\u770b\u5185\u5bb9, \u8bf7\u8054\u7cfb\u7ba1\u7406\u5458.",type:"warning",showIcon:!0,style:{margin:"0 20px"}})):m.a.createElement("div",{className:"app-spin"},m.a.createElement(g.a,null))}}]),a}(u.Component))||n)||n;t.default=T}}]);
//# sourceMappingURL=59.21f0dae1.chunk.js.map