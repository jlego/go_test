{"version":3,"sources":["components/loadable.js","components/index.js","routes/pages.js","pages/index.js"],"names":["loadComponent","loader","Loadable","Result","LoadComponent","Icon","AdvanceFilter","AdvanceTable","Editor","Pageheader","Listview","Editview","Detailview","InputBetween","KeyValueList","MediaFilter","NavMenu","OperateMenu","PageLink","Selector","SlidebarVerify","TableSelector","Tree","TreeSelector","UploadPicture","UploadFile","XlsxImport","XlsxExport","Cascade","ConditionRule","FieldSettingTable","FieldSettingForm","FieldSettingFormFun","Print","Image","QueryFields","EditTable","routes","Header","Layout","Sider","projectName","CONFIG","TabPane","Tabs","IndexPage","inject","globalStore","appStore","authStore","token","user","logout","getPermission","observer","state","menuTree","collapsed","handleLogout","e","props","history","push","onChange","key","setActiveKey","onEdit","targetKey","action","removeTab","a","this","getSetting","getMenu","setState","activeKey","panes","style","height","className","position","zIndex","width","iconName","color","size","placement","title","type","onClick","marginLeft","marginTop","padding","transform","avatar","src","icon","realName","username","marginRight","id","trigger","overflow","bottom","top","left","autoHide","openKeys","theme","hideAdd","map","pane","index","Com","pages","getUrlNode","tab","url","path","exact","render","view","to","Component"],"mappings":"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","file":"static/js/pages.e5c227c8.chunk.js","sourcesContent":["import Loadable from '@loadable/component'; // 实现按需加载\nconst loadComponent = (loader) => Loadable(loader)\nexport default loadComponent","import LoadComponent from './loadable'\r\n\r\nexport const Result = LoadComponent(() => import('./result'))\r\nexport const Icon = LoadComponent(() => import('./icon'))\r\nexport const AdvanceFilter = LoadComponent(() => import('./advanceFilter'))\r\nexport const AdvanceTable = LoadComponent(() => import('./advanceTable'))\r\nexport const Editor = LoadComponent(() => import('./editor'))\r\nexport const Pageheader = LoadComponent(() => import('./pageheader'))\r\nexport const Listview = LoadComponent(() => import('./listview'))\r\nexport const Editview = LoadComponent(() => import('./editview'))\r\nexport const Detailview = LoadComponent(() => import('./detailview'))\r\nexport const InputBetween = LoadComponent(() => import('./inputBetween'))\r\nexport const KeyValueList = LoadComponent(() => import('./keyValueList'))\r\nexport const MediaFilter = LoadComponent(() => import('./mediaFilter'))\r\n// export const MLX90640Seletor = LoadComponent(() => import('./MLX90640/index'))\r\nexport const NavMenu = LoadComponent(() => import('./navMenu'))\r\nexport const OperateMenu = LoadComponent(() => import('./operateMenu'))\r\nexport const PageLink = LoadComponent(() => import('./pageLink'))\r\nexport const Selector = LoadComponent(() => import('./select'))\r\nexport const SlidebarVerify = LoadComponent(() => import('./slidebarVerify'))\r\nexport const TableSelector = LoadComponent(() => import('./tableSelect'))\r\nexport const Tree = LoadComponent(() => import('./tree'))\r\nexport const TreeSelector = LoadComponent(() => import('./treeSelect'))\r\nexport const UploadPicture = LoadComponent(() => import('./uploadQiniu/picture'))\r\nexport const UploadFile = LoadComponent(() => import('./uploadQiniu/file'))\r\nexport const XlsxImport = LoadComponent(() => import('./xlsx/xlsxImport'))\r\nexport const XlsxExport = LoadComponent(() => import('./xlsx/xlsxExport'))\r\nexport const Cascade = LoadComponent(() => import('./cascader'))\r\nexport const ConditionRule = LoadComponent(() => import('./conditionRule'))\r\nexport const FieldSettingTable = LoadComponent(() => import('./fieldSetting/table'))\r\nexport const FieldSettingForm = LoadComponent(() => import('./fieldSetting/form'))\r\nexport const FieldSettingFormFun = LoadComponent(() => import('./fieldSetting/formFun'))\r\nexport const Print = LoadComponent(() => import('./print'))\r\nexport const Image = LoadComponent(() => import('./image'))\r\nexport const QueryFields = LoadComponent(() => import('./queryFields'))\r\nexport const EditTable = LoadComponent(() => import('./editTable/index.tsx'))\r\n","import LoadComponent from './loadable';\n\nconst routes = {\n  \"view\": LoadComponent(() => import('@/pages/view/'/* webpackChunkName: \"view\" */)),\n  // \"list\": LoadComponent(() => import('@/pages/view/list'/* webpackChunkName: \"viewList\" */)),\n  // \"edit\": LoadComponent(() => import('@/pages/view/edit'/* webpackChunkName: \"viewEdit\" */)),\n  \"dictionary\": LoadComponent(() => import('@/pages/dictionary/'/* webpackChunkName: \"dictionary\" */)),\n  \"menu\": LoadComponent(() => import('@/pages/menu/'/* webpackChunkName: \"menu\" */)),\n  \"setting\": LoadComponent(() => import('@/pages/setting/'/* webpackChunkName: \"setting\" */)),\n}\nexport default routes","/**\r\n*  @Title   首页\r\n*  @Auther  yu\r\n*  @Des     描述\r\n*  @Time    2020\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { Layout, Avatar, Button, BackTop, Tabs, Tooltip } from 'antd';\r\nimport CONFIG from '@/config'\r\nimport pages from '@/routes/pages';\r\nimport { NavMenu, Icon } from '@components';\r\nimport { getUrlNode } from '@components/utils/fun';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport './index.less'\r\nconst { Header, Sider } = Layout;\r\nconst { projectName } = CONFIG\r\nconst { TabPane } = Tabs;\r\n\r\n@inject(({ globalStore, appStore, authStore }) => ({\r\n  ...appStore,\r\n  ...globalStore,\r\n  token: authStore.token,\r\n  user: authStore.user,\r\n  logout: authStore.logout,\r\n  getPermission: authStore.getPermission,\r\n}))\r\n@observer\r\nclass IndexPage extends Component {\r\n  state = {\r\n    menuTree: [],\r\n    collapsed: false\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.props.getPermission(async () => {\r\n      this.props.getSetting()\r\n      let menuTree = await this.props.getMenu()\r\n      this.setState({ menuTree })\r\n    })\r\n  }\r\n\r\n  handleLogout = e => {\r\n    this.props.logout(() => {\r\n      this.props.history.push(`/login`)\r\n    })\r\n  }\r\n\r\n  onChange = key => {\r\n    this.props.setActiveKey(key)\r\n  };\r\n\r\n  onEdit = (targetKey, action) => {\r\n    if (action === 'remove') {\r\n      this.props.removeTab(targetKey)\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { token, user, activeKey, panes, } = this.props\r\n    let { menuTree, collapsed } = this.state\r\n    return (\r\n      !token ?\r\n        <Redirect to={`/login`} /> :\r\n        <Layout style={{ height: '100%' }}>\r\n          <Header className=\"header\" style={{ position: 'fixed', zIndex: 800, width: '100%' }}>\r\n            <div className=\"logo\">\r\n              <Icon iconName=\"Settings\" color=\"#fff\" size={22} />\r\n              {/* <Image\r\n              width={150}\r\n              src={require('../assets/images/logo.png')}\r\n            /> */}\r\n            </div>\r\n            <h1>{projectName}</h1>\r\n            <Tooltip placement=\"right\" title={collapsed ? '展开菜单' : '收起菜单'}>\r\n              <Button type=\"link\" onClick={() => this.setState({ collapsed: !collapsed })} style={{ marginLeft: 20, marginTop: 8, padding: 5 }}>\r\n                <Icon iconName=\"NavigationFlipper\" color=\"#8ec3f8\" size={20} style={{ marginTop: -2, transform: `rotateY(${collapsed ? '0' : '180'}deg)` }} />\r\n              </Button>\r\n            </Tooltip>\r\n            <ul className=\"header-menu-right\">\r\n              <li>\r\n                {user.avatar ? <Avatar src={user.avatar} size=\"small\" /> : <Avatar size=\"small\" icon={\r\n                  <Icon iconName=\"Contact\" color=\"#fff\" />\r\n                } />}\r\n                {user.realName || user.username}\r\n              </li>\r\n              <li style={{ marginLeft: 10 }}>\r\n                <Button type=\"link\" icon={<Icon iconName=\"PowerButton\" color=\"#fff\" marginRight={5} />}\r\n                  onClick={this.handleLogout} title=\"退出登录\">退出登录</Button>\r\n              </li>\r\n            </ul>\r\n          </Header>\r\n          <Layout style={{ marginTop: 48 }}>\r\n            <Sider\r\n              id='siderBar'\r\n              trigger={null}\r\n              width={collapsed ? 80 : 220}\r\n              collapsed={collapsed}\r\n              style={{\r\n                overflow: 'auto',\r\n                height: 'auto',\r\n                position: 'fixed',\r\n                bottom: 0,\r\n                top: 48,\r\n                left: 0,\r\n              }}\r\n            >\r\n              <Scrollbars autoHide>\r\n                <NavMenu\r\n                  openKeys={[]}\r\n                  theme=\"dark\"\r\n                  collapsed={collapsed}\r\n                  menuTree={menuTree}\r\n                />\r\n              </Scrollbars>\r\n            </Sider>\r\n            <Layout style={{ marginLeft: collapsed ? 80 : 220 }}>\r\n              <Tabs\r\n                hideAdd\r\n                onChange={this.onChange}\r\n                activeKey={activeKey}\r\n                type=\"editable-card\"\r\n                onEdit={this.onEdit}\r\n                className=\"app-tabs\"\r\n                size=\"small\"\r\n              >\r\n                {panes.map((pane, index) => {\r\n                  let Com = pages[getUrlNode(1)]\r\n                  return (\r\n                    <TabPane tab={pane.title} key={pane.url}>\r\n                      <Route path={pane.url} exact={true}\r\n                        render={props => <Com {...props} {...pane} view={getUrlNode(2)} id={getUrlNode(3)} />}\r\n                        key={`pane_${index}`}\r\n                      />\r\n                    </TabPane>\r\n                  )\r\n                })}\r\n              </Tabs>\r\n              <BackTop />\r\n            </Layout>\r\n          </Layout>\r\n        </Layout>\r\n    )\r\n  }\r\n};\r\n\r\nexport default IndexPage;\r\n"],"sourceRoot":""}